<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Emergencia ECU-911</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Retroalimentacion</ion-card-title>
    </ion-card-header>
    <ion-list>
      <!-- <ion-item>
        <ion-label position="floating">Tipo Emergencia</ion-label>
        <ion-input type="text"></ion-input>
      </ion-item> -->
      <ion-item>
        <ion-label>
          <h2>Emergencia</h2>
          <p>{{emergencia.titulo}}</p>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-label>
          <h2>Usuario</h2>
          <p>{{username | async}}</p>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-label>Estado</ion-label>
        <ion-select [(ngModel)]="selectedVal" (ionChange)="getIdEstado($event)" placeholder="Seleccione">
          <ion-select-option *ngFor="let estado of estados | async" [value]='estado.id' >
            {{estado.tipo}}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <!-- <ion-radio-group  [(ngModel)]="retroalimentacion.estado">
        <ion-list-header>
          <ion-label>Estado</ion-label>
        </ion-list-header>
       
        <ion-list> 
          <ion-item  *ngFor="let estado of estados | async">
            <ion-label>{{estado.tipo}}</ion-label>
            <ion-radio slot="end" value=estado.id ></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>En Camino</ion-label>
            <ion-radio slot="start" value="En Camino" checked></ion-radio>
          </ion-item>
  
          <ion-item>
            <ion-label>En Sitio</ion-label>
            <ion-radio slot="start" value="En Sitio" checked ></ion-radio>
          </ion-item>
  
          <ion-item>
            <ion-label>Procesando</ion-label>
            <ion-radio slot="start" value="Procesando" checked ></ion-radio>
          </ion-item>
  
          <ion-item>
            <ion-label>Finalizado</ion-label>
            <ion-radio slot="start" value="Finalizado" checked></ion-radio>
          </ion-item>
        </ion-list>
      </ion-radio-group> -->

      <ion-item>
        <ion-label position="floating">Descripcion</ion-label>
        <ion-textarea rows="3" cols="20" type="text" placeholder="Ingrese descripcion aqui ..."
          [(ngModel)]="retroalimentacion.descripcion"></ion-textarea>
      </ion-item>

      <ion-item>
        <ion-label>
          <h2>Fecha</h2>
          <p> {{today | date}}</p>
        </ion-label>
      </ion-item>
      <!-- {{id | async}} -->
      <ion-item>
        <ion-label>
          <h2>Hora</h2>
          <p>{{today | date:'h:mm a z'}}</p>
        </ion-label>
      </ion-item>
    </ion-list>

    <div class=botones>
      <ion-button url color="primary" fill="outline" [routerLink]="['/home']">Emergencia</ion-button>
      <ion-button url color="primary" fill="outline" (click)="creaRetroalimentacion()">Enviar</ion-button>
      <ion-button color="danger">Limpiar</ion-button>
      <ion-button color="danger" (click)="getIdUsuario()">Prueva</ion-button>
    </div>

  </ion-card>

</ion-content>